<html id="space"><head><meta name='viewport' content='width=device-width, initial-scale=1.0'></head></html>
<script src="./resources.js"></script>
<script>
    function wait(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
    }let progress
    let TimeOut=false
    let space=document.getElementById("space")
    space.style.backgroundColor="black"
    space.innerHTML="<div style='color: white; position: absolute; top: 30%; text-align: center; font-size: 150%;'><p>Game prepared by</p><p>2018 EBENZER CHRISTIAN FELLOWSHIP</p><button id='start' style='font-size: 150%;'>Start Game</button></div>"
    document.getElementById("start").addEventListener("click",async function(){
        space.innerHTML=""
        await wait(500)
        space.innerHTML="<head><meta name='viewport' content='width=device-width, initial-scale=1.0'></head><div id='phase' style='position: absolute; top: 30%; font-size: 150%; color: white;'><p>Phase One</p></div>"
        await wait(1500)
        document.getElementById("phase").innerHTML=document.getElementById("phase").innerHTML.concat("<p>Nebucannadazer Dream's statue</p>")
        await wait(1500)
        phaseOne()
    })
    function phaseOne(){
        progress="phaseOne"
        let answers=[]
        space.style.backgroundColor="white"
        space.innerHTML=`<head><meta name='viewport' content='width=device-width, initial-scale=1.0'></head><h1 style="text-align: center; text-decoration: underline; position: absolute; top: 0vh; left: 0vh; width: 100vw; height: 15vh;">Nebucannadazer's Dream</h1><img id="Head" style="width: 10vh; height: 10vh; position: absolute; top: 20vh; left: 1vh;"></img><form class="choice" style="position: absolute; top: 20.5vh; left: 12vh; border: solid;"><label><input type="radio" name="head" value="Gold">Gold</label><label><input type="radio" name="head" value="Iron&Clay">Iron&Clay</label><label><input type="radio" name="head" value="Silver">Silver</label><label><input type="radio" name="head" value="Iron">Iron</label><label><input type="radio" name="head" value="Bronze">Bronze</label></form><img id="Chest" style="width: 10vh; height: 10vh; position: absolute; top: 35vh; left: 1vh;"></img><form class="choice" style="position: absolute; top: 35.5vh; left: 12vh; border: solid;"><label><input type="radio" name="chest" value="Gold">Gold</label><label><input type="radio" name="chest" value="Iron&Clay">Iron&Clay</label><label><input type="radio" name="chest" value="Silver">Silver</label><label><input type="radio" name="chest" value="Iron">Iron</label><label><input type="radio" name="chest" value="Bronze">Bronze</label></form><img id="Belly" style="width: 10vh; height: 10vh; position: absolute; top: 50vh; left: 1vh;"></img><form class="choice" style="position: absolute; top: 50.5vh; left: 12vh; border: solid;"><label><input type="radio" name="belly" value="Gold">Gold</label><label><input type="radio" name="belly" value="Iron&Clay">Iron&Clay</label><label><input type="radio" name="belly" value="Silver">Silver</label><label><input type="radio" name="belly" value="Iron">Iron</label><label><input type="radio" name="belly" value="Bronze">Bronze</label></form><img id="Leg" style="width: 10vh; height: 10vh; position: absolute; top: 65vh; left: 1vh;"></img><form class="choice" style="position: absolute; top: 65.5vh; left: 12vh; border: solid;"><label><input type="radio" name="leg" value="Gold">Gold</label><label><input type="radio" name="leg" value="Iron&Clay">Iron&Clay</label><label><input type="radio" name="leg" value="Silver">Silver</label><label><input type="radio" name="leg" value="Iron">Iron </label><label><input type="radio" name="leg" value="Bronze">Bronze</label></form><img id="Foot" style="width: 10vh; height: 10vh; position: absolute; top: 80vh; left: 1vh;"></img><form class="choice" style="position: absolute; top: 80.5vh; left: 12vh; border: solid;"><label><input type="radio" name="foot" value="Gold">Gold</label><label><input type="radio" name="foot" value="Iron&Clay">Iron&Clay</label><label><input type="radio" name="foot" value="Silver">Silver</label><label><input type="radio" name="foot" value="Iron">Iron</label><label><input type="radio" name="foot" value="Bronze">Bronze</label></form><p id="helpLink" style="text-decoration: underline; font-family: Italic; position: absolute; top: 91vh; color: blue;"></p><div id="Alert" style="position: absolute; top: 10vw; left: 10vw; width: 80vw; background: white; box-shadow: 0 0 10px gray;"></div>`
        var Alert=document.getElementById("Alert")
        let Head=document.getElementById("Head")
        let Chest=document.getElementById("Chest")
        let Belly=document.getElementById("Belly")
        let Leg=document.getElementById("Leg")
        let Foot=document.getElementById("Foot")
        Head.setAttribute("src",Golden_head)
        Chest.setAttribute("src",Golden_chest)
        Belly.setAttribute("src",Golden_belly)
        Leg.setAttribute("src",Golden_leg)
        Foot.setAttribute("src",Golden_foot)
        for (const choice of document.querySelectorAll('.choice')){
            choice.addEventListener("change",function(event){
                if (event.target.name=="head"){
                    if (event.target.value=="Gold"){
                        Head.setAttribute("src",Golden_head)
                        answers[0]='gold'
                    }else if (event.target.value=="Silver"){
                        Head.setAttribute("src",Silver_head)
                        answers[0]='silver'
                    }else if (event.target.value=="Bronze"){
                        Head.setAttribute("src",Bronze_head)
                        answers[0]='bronze'
                    }else if (event.target.value=="Iron"){
                        Head.setAttribute("src",Iron_head)
                        answers[0]='iron'
                    }else if (event.target.value=="Iron&Clay"){
                        Head.setAttribute("src",Iron_Clay_head)
                        answers[0]='ironclay'
                    }
                }else if (event.target.name=="chest"){
                    if (event.target.value=="Gold"){
                        Chest.setAttribute("src",Golden_chest)
                        answers[1]='gold'
                    }else if (event.target.value=="Silver"){
                        Chest.setAttribute("src",Silver_chest)
                        answers[1]='silver'
                    }else if (event.target.value=="Bronze"){
                        Chest.setAttribute("src",Bronze_chest)
                        answers[1]='bronze'
                    }else if (event.target.value=="Iron"){
                        Chest.setAttribute("src",Iron_chest)
                        answers[1]='iron'
                    }else if (event.target.value=="Iron&Clay"){
                        Chest.setAttribute("src",Iron_Clay_chest)
                        answers[1]='ironclay'
                    }
                }else if (event.target.name=="belly"){
                    if (event.target.value=="Gold"){
                        Belly.setAttribute("src",Golden_belly)
                        answers[2]='gold'
                    }else if (event.target.value=="Silver"){
                        Belly.setAttribute("src",Silver_belly)
                        answers[2]='silver'
                    }else if (event.target.value=="Bronze"){
                        Belly.setAttribute("src",Bronze_belly)
                        answers[2]='bronze'
                    }else if (event.target.value=="Iron"){
                        Belly.setAttribute("src",Iron_belly)
                        answers[2]='iron'
                    }else if (event.target.value=="Iron&Clay"){
                        Belly.setAttribute("src",Iron_Clay_belly)
                        answers[2]='ironclay'
                    }
                }else if (event.target.name=="leg"){
                    if (event.target.value=="Gold"){
                        Leg.setAttribute("src",Golden_leg)
                        answers[3]='gold'
                    }else if (event.target.value=="Silver"){
                        Leg.setAttribute("src",Silver_leg)
                        answers[3]='silver'
                    }else if (event.target.value=="Bronze"){
                        Leg.setAttribute("src",Bronze_leg)
                        answers[3]='bronze'
                    }else if (event.target.value=="Iron"){
                        Leg.setAttribute("src",Iron_leg)
                        answers[3]='iron'
                    }else if (event.target.value=="Iron&Clay"){
                        Leg.setAttribute("src",Iron_Clay_leg)
                        answers[3]='ironclay'
                    }
                }else if (event.target.name=="foot"){
                    if (event.target.value=="Gold"){
                        Foot.setAttribute("src",Golden_foot)
                        answers[4]='gold'
                    }else if (event.target.value=="Silver"){
                        Foot.setAttribute("src",Silver_foot)
                        answers[4]='silver'
                    }else if (event.target.value=="Bronze"){
                        Foot.setAttribute("src",Bronze_foot)
                        answers[4]='bronze'
                    }else if (event.target.value=="Iron"){
                        Foot.setAttribute("src",Iron_foot)
                        answers[4]='iron'
                    }else if (event.target.value=="Iron&Clay"){
                        Foot.setAttribute("src",Iron_Clay_foot)
                        answers[4]='ironclay'
                    }
                }
           })
       }setTimeout(function(){
            if (progress=='phaseOne'){
                let helpLink=document.getElementById("helpLink")
                helpLink.innerHTML="Need Help?"
                helpLink.addEventListener("click",function(){
                    Alert.innerHTML="‭‭<p style='font-size: 110%; color: red;'>Daniel‬ ‭2:31‭-‬33‬</p> ‭<hr> <p> [31] In your vision, Your Majesty, you saw standing before you a huge, shining statue of a man. It was a frightening sight. [32] The HEAD OF THE STATUE was made of fine GOLD. Its CHEST AND ARMS were SILVER, its BELLY AND THIGHS were BRONZE, [33] its LEGS were IRON, and its FEET were a combination of IRON AND BAKED CLAY.</p><br><p id='ok' style='text-align: right; color: red;'>OK</p>"
                    let ok=document.getElementById("ok")
                    ok.addEventListener("click",function(){
                        Alert.innerHTML=""
                    })
                })
            }
        },60000)
        setTimeout(function(){
            if (progress=="phaseOne"){
                TimeOut=true
            }
        },150000)
       let check=setInterval(async function(){
             let condition1=answers[0]=='gold' && answers[1]=='silver' && answers[2]=='bronze' && answers[3]=='iron' && answers[4]=='ironclay'
             let condition=condition1 || TimeOut
             if (condition){
                 if (condition1){
                     Alert.innerHTML="<p style='font-size: 300%'>You Win!!!</p>"
                 }else if (TimeOut){
                     Alert.innerHTML="<p style='font-size: 300%'>Time Out</p>"
                 }TimeOut=false
                 progress='phaseTwo'
                 await wait(800)
                phaseTwo()
                clearInterval(check)
             }
        },1000)
    }async function phaseTwo(){
        space.innerHTML=""
        space.style.backgroundColor="black"
        await wait(500)
        space.innerHTML="<head><meta name='viewport' content='width=device-width, initial-scale=1.0'></head><div id='phase' style='position: absolute; top: 30%; font-size: 150%; color: white;'><p>Phase Two</p></div>"
        await wait(1500)
        document.getElementById("phase").innerHTML=document.getElementById("phase").innerHTML.concat("<p>Joseph Banquet</p>")
        await wait(1500)
        space.innerHTML=`<img id="Dining Table" style="position: absolute; top: 0; left: 0vw; width: 100vw; height: 100vh;"><p id="guide" style="font-size: 120%; color: blue; text-decoration: underline; position: absolute; top: 80%; left: 10%;">Guide</p><p id="tip" style="font-size: 120%; color: blue; text-decoration: underline; position: absolute; top: 10%; left: 1%;"></p><div class="box" id="11" style="position: absolute; top: 86.67%; left: 30%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="10" style="position: absolute; top: 89.67%; left: 50%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="9" style="position: absolute; top: 80%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="8" style="position: absolute; top: 68%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="7" style="position: absolute; top: 56%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="6" style="position: absolute; top: 44%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="5" style="position: absolute; top: 32%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="4" style="position: absolute; top: 20%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="3" style="position: absolute; top: 8%; left: 65%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="2" style="position: absolute; top: 0%; left: 48%; background: white; width: 13.7%; height: 7.6%; border-style : dashed;"></div><div class="box" id="1" style="position: absolute; top: 2%; left: 30%; background: white; width: 13.8%; height: 7.6%; border-style : dashed;"></div><div class="box" id="12" style="position: absolute; top: 45%; left: 18%; background: white; width: 13.7%; height: 7.6%; border-style : dashed;"></div><img class="brother" id="Asher" style="position: absolute; top: 91.67vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Benjamin" style="position: absolute; top: 83.34vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Dan" style="position: absolute; top: 75vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Gad" style="position: absolute; top: 66.68vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Issachar" style="position: absolute; top: 58.35vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Joseph" style="position: absolute; top: 50vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Judah" style="position: absolute; top: 41.69vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Levi" style="position: absolute; top: 33.36vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Naphtali" style="position: absolute; top: 25vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Reuben" style="position: absolute; top: 16.7vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Simeon" style="position: absolute; top: 8.33vh; left: 0vw; width: 15%; height: 8.33%;"><img class="brother" id="Zebulun" style="position: absolute; top: 0vh; left: 0vw; width: 15%; height: 8.33%;"><div id="alert" style="position: absolute; top: 25vh; left: 10vw; width: 80vw; height: 50vh; background: white; box-shadow: 0 0 10px gray; display: none; overflow: auto;"></div>`
        document.getElementById("Asher").setAttribute("src",Asher)
        document.getElementById("Benjamin").setAttribute("src",Benjamin)
        document.getElementById("Dan").setAttribute("src",Dan)
        document.getElementById("Gad").setAttribute("src",Gad)
        document.getElementById("Issachar").setAttribute("src",Issachar)
        document.getElementById("Joseph").setAttribute("src",Joseph)
        document.getElementById("Judah").setAttribute("src",Judah)
        document.getElementById("Levi").setAttribute("src",Levi)
        document.getElementById("Naphtali").setAttribute("src",Naphtali)
        document.getElementById("Reuben").setAttribute("src",Reuben)
        document.getElementById("Simeon").setAttribute("src",Simeon)
        document.getElementById("Zebulun").setAttribute("src",Zebulun)
        space.style.backgroundColor="white"
        document.getElementById("Dining Table").setAttribute("src",Dining_table)
        setTimeout(function(){
            TimeOut=true
        },150000)
        let guide=document.getElementById('guide')
        guide.style.transform="rotate(-90deg)"
        let original=new Map()
        let beingDragged
        let order=new Map()
        for (const brother of document.querySelectorAll('.brother')){
            original.set(brother,[parseFloat(brother.style.left),parseFloat(brother.style.top)])
        }Alert=document.getElementById("alert")
        guide.addEventListener("click",function(){
                 if (Alert.innerHTML!=""){
                         return
                 }Alert.innerHTML="<div id='tip'><p style='font-size: 130%'>Guide</p><hr><p>1. Touch the images to know who they are.</p><p>2. Drag the images to their seat at the dining table.</p><p>3. Place Joseph's brothers as they were placed in his banquet on Gen. 43.</p><p id='ok' style='text-align: right; color: green;'>OK</p></div>"
                  document.getElementById('tip').style.transform='rotate(-90deg)'
                  Alert.style.top='20vh'
                  Alert.style.left='5vw'
                  Alert.style.width='90vw'
                  Alert.style.height='55vh'
                  Alert.style.display="block"
                  Alert.style.transform="rotate(-90deg)"
                  document.getElementById("ok").addEventListener("click",function(){
                            Alert.innerHTML=""
                            Alert.style.top='25vh'
                            Alert.style.height='50vh'
                            Alert.style.left='10vw'
                            Alert.style.width='80vw'
                            Alert.style.display="none"
                            Alert.style.transform="rotate(0deg)"
                   })
         })
         let tip=document.getElementById("tip")
         tip.style.transform="rotate(-90deg)"
         setTimeout(function(){
              tip.innerHTML="Need Help?"
              tip.addEventListener("click",function(){
                        if (Alert.innerHTML!=""){
                            return
                        }Alert.innerHTML="<p style='font-size: 120%;'>Tips</p><hr><p>1. In Egyptian Culture when a group of dine together they sit in order of age.<a id='order' style='color: blue; text-decoration: underline;'>Tips on order of birth</a></p><p>2. Egyptians(Joseph) do not dine with foreigners. So they dine separately.</p><p>3. Benjamin, the youngest brother was served more food than his brothers.</p><p id='ok' style='color: green; text-align: right;'>OK</p>"
                        Alert.style.transform="rotate(-90deg)"
                        Alert.style.display="block"
                        let Order=document.getElementById('order')
                        Order.addEventListener("click",function(){
                            Alert.innerHTML="‭Gen. 29 <hr>[32] Leah became pregnant and gave birth to a son. She named him REUBEN(1), for she said, 'It is because the Lord has seen my misery. Surely my husband will love me now.'<br> [33] She conceived again, and when she gave birth to a son she said, 'Because the Lord heard that I am not loved, he gave me this one too.' So she named him SIMEON(2). <br> [34] Again she conceived, and when she gave birth to a son she said, 'Now at last my husband will become attached to me, because I have borne him three sons.' So he was named LEVI(3).<br> [35] She conceived again, and when she gave birth to a son she said, 'This time I will praise the Lord.' So she named him JUDAH(4).<hr>Gen. 30<hr>[6] Then Rachel said, 'God has vindicated me; he has listened to my plea and given me a son.' Because of this she named him DAN(5).<br>[8] Then Rachel said, 'I have had a great struggle with my sister, and I have won.' So she named him NAPHTALI(6).<br>[11] Then Leah said, 'What good fortune!' So she named him GAD(7).<br>[13] Then Leah said, 'How happy I am! The women will call me happy.' So she named him ASHER(8).<br>[18] Then Leah said, 'God has rewarded me for giving my servant to my husband.' So she named him ISSACHAR(9).<br>[20]Then Leah said, 'God has presented me with a precious gift. This time my husband will treat me with honor, because I have borne him six sons.' So she named him ZEBULUN(10).<p id='ok' style='text-align: right; color: green;'>OK</p>"
                            document.getElementById("ok").addEventListener("click",function(){
                                Alert.innerHTML=""
                                Alert.style.transform="rotate(0deg)"
                                Alert.style.display="none"
                            })
                        })
                        document.getElementById("ok").addEventListener("click",function(){
                            Alert.innerHTML=""
                            Alert.style.transform="rotate(0deg)"
                            Alert.style.display="none"
                        })
                  })
            },60000)
            for (const brother of document.querySelectorAll(".brother")){
                original.set(brother,[brother.style.top,brother.style.left])
                brother.addEventListener("click",function(){
                    if (Alert.innerHTML!=""){
                        return
                    }Alert.innerHTML="<img src='"+brother.getAttribute('src')+"' style='width: 80vw; height: 50vh;'><p id='ok' style='font-size: 130%; position: absolute; top: 5%; left: 85%; color: green; border: solid;'>OK</p> "
                    Alert.style.display="block"
                    let OK=document.getElementById("ok")
                    OK.style.transform="rotate(-90deg)"
                    OK.addEventListener("click",function(){
                        Alert.style.display="none"
                        Alert.innerHTML=""
                    })
                })
                function dragImage(){
                    beingDragged=brother
                    if (order.has(beingDragged.getAttribute("src"))){
                        order.delete(beingDragged.getAttribute("src"))
                    }
                }brother.addEventListener("touchstart",dragImage)
                brother.addEventListener("mousedown",dragImage)
                function draggingImage(event){
                    if (beingDragged){
                        let touch=event.touches[0]
                        let y=touch.clientY/parseFloat(window.innerHeight)*100
                        let x=touch.clientX/parseFloat(window.innerWidth)*100
                        beingDragged.style.top=y+'%'
                        beingDragged.style.left=x+'%'
                    }
                }document.addEventListener("touchmove",function(event){
                    draggingImage(event)
                })
                document.addEventListener("mousemove",function(event){
                    draggingImage(event)
                })
               function endDraggingImage(){
                if (beingDragged){
                    let i=0
                    for (const box of document.querySelectorAll(".box")){
                        if (Math.abs(parseFloat(beingDragged.style.top)-parseFloat(box.style.top))<=6 && Math.abs(parseFloat(box.style.left)-parseFloat(beingDragged.style.left))<=9){
                            let a=0
                            for (const image of order.keys()){
                                if (order.get(image)==box){
                                    a+=1
                                }
                            }if (a==0){
                                beingDragged.style.top=box.style.top
                                beingDragged.style.left=box.style.left
                                order.set(beingDragged.getAttribute("src"),box)
                                i+=1
                                break
                            }
                        }
                    }if (i!=1){
                        beingDragged.style.top=original.get(beingDragged)[0]
                        beingDragged.style.left=original.get(beingDragged)[1]
                    }beingDragged=null
                }
            }brother.addEventListener("touchend",endDraggingImage)
            brother.addEventListener("mouseup",endDraggingImage)
           
           }let checker=setInterval(function(){
                let length=0
                for (const image of order.keys()){
                    length+=1
                }let condition1=length==12 && order.get(Reuben).getAttribute("id")=="1" && order.get(Simeon).getAttribute("id")=="2" && order.get(Levi).getAttribute("id")=="3" && order.get(Judah).getAttribute("id")=="4" && order.get(Dan).getAttribute("id")=="5" && order.get(Naphtali).getAttribute("id")=="6" && order.get(Gad).getAttribute("id")=="7" && order.get(Asher).getAttribute("id")=="8" && order.get(Issachar).getAttribute("id")=="9" && order.get(Zebulun).getAttribute("id")=="10" && order.get(Benjamin).getAttribute("id")=="11" && order.get(Joseph).getAttribute("id")=="12"
                if (condition1 || TimeOut){
                    Alert.innerHTML=""
                    Alert.style.transform="rotate(0deg)"
                    Alert.style.display="none"
                    if (condition1){
                        Alert.innerHTML="<p style='font-size: 400%'>You Win!!!</p>"
                    }if (TimeOut){
                        Alert.innerHTML="<p style='font-size: 400%'>Time Out</p>"
                    }Alert.style.transform="rotate(-90deg)"
                    Alert.style.display="block"
                    final()
                    clearInterval(checker)
                }
      },1000)
    }async function final(){
        await wait(500)
        space.innerHTML=`<head><meta name='viewport' content='width=device-width, initial-scale=1.0'></head><p>Mat.13:44</p><p>‭The kingdom of heaven is like treasure hidden in a field. When a man found it, he hid it again, and then in his joy went and sold all he had and bought that field.</p><p>Post this verse on Ebenzer Christian Fellowship to win the game.</p>`
    }
</script>
